<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hyper-Hash Pool</title>
  <meta name="description" content="Hyper-Hash Bitcoin mining pool — fast, minimal UI."/>
  <link rel="icon" href="favicon.png" type="image/png">
  <style>
    :root{
      color-scheme:dark;
      --bg:#0b0d10;
      --panel:#0f1419;
      --ink:#e7edf3;
      --muted:#8ea0b2;
      --line:#14202c;
      --accent:#7cd1ff;
      --rad:18px;
      --pad:18px;
      --max:1100px;
      --gap:18px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    .wrap{max-width:var(--max);margin:0 auto;padding:0 20px}
    .hero{padding:30px 0;text-align:center}
    .hero h1{margin:0 0 10px;font-size:clamp(28px,3.5vw,44px)}
    .hero p{margin:0;color:var(--muted)}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:var(--rad);padding:var(--pad)}
    .card h2{margin:0 0 10px;font-size:14px;letter-spacing:.14em;text-transform:uppercase;color:var(--muted)}
    .mini-h2{font-size:14px;letter-spacing:.14em;text-transform:uppercase;color:var(--muted)} /* same look as h2 */
    .spacer{height:var(--gap)}
    #quasar-wrap{height:560px;border-radius:14px;overflow:hidden;background:#0b1218}
    .bar{display:flex;gap:12px;flex-wrap:wrap}
    .kv{flex:1 1 160px;display:flex;align-items:center;justify-content:space-between;
        padding:12px 14px;border-radius:12px;background:#0b1218;border:1px solid var(--line)}
    .tbl{width:100%;border-collapse:collapse}
    .tbl th,.tbl td{border-bottom:1px solid var(--line);padding:10px 8px;text-align:left;font-size:14px}
    .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
    .muted{color:var(--muted)}
    section{margin-bottom:var(--gap)}
    .tiles{display:grid;gap:var(--gap);grid-template-columns:1fr}
    @media(min-width:760px){.tiles{grid-template-columns:repeat(3,1fr)}}
    .tile{display:block;text-decoration:none;color:inherit}
    .tile h3{margin:0 0 6px;font-size:16px}
    .tile p{margin:0;color:var(--muted);font-size:14px}
    footer{margin:24px 0 40px;text-align:center;color:var(--muted)}
    footer a{color:var(--accent);text-decoration:none}
    footer a:hover{text-decoration:underline}

    /* Quasar lane colors for the Stratum table */
    .lane{font-weight:600}
    .lane-sv1{color:#66d9ef}   /* SV1 */
    .lane-sv1h{color:#f92672}  /* SV1 Hyper */
    .lane-sv2{color:#fd971f}   /* SV2 */
    .lane-sv2h{color:#a6e22e}  /* SV2 Hyper */

    /* Miner login row with three even columns */
    .login-row{
      display:grid;
      grid-template-columns:1fr 1fr 1fr;
      gap:12px;
      align-items:center;
      padding:12px 14px;
      border-radius:12px;
      background:#0b1218;
      border:1px solid var(--line);
    }
    .login-row .syntax{justify-self:center}
    .login-row .example{justify-self:end;color:var(--muted)}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="hero">
      <h1>Mine bitcoin with Hyper-Hash pool</h1>
      <p>Minimal, fast pool UI. Point your miner and hash.</p>
    </section>

    <section class="card">
      <h2>Quasar</h2>
      <div id="quasar-wrap"></div>
    </section>

    <section class="card">
      <h2>Pool Status</h2>
      <div class="bar">
        <div class="kv"><span>Hashrate</span><strong id="ps-hash">—</strong></div>
        <div class="kv"><span>Miners online</span><strong id="ps-miners">—</strong></div>
        <div class="kv"><span>Round shares</span><strong id="ps-shares">—</strong></div>
        <div class="kv"><span>24h blocks</span><strong id="ps-blocks">—</strong></div>
      </div>
    </section>

    <section class="card">
      <h2>Stratum Endpoints</h2>
      <table class="tbl">
        <thead>
          <tr><th>Lane</th><th>Protocol</th><th>Endpoint</th></tr>
        </thead>
        <tbody class="mono">
          <tr>
            <td class="lane lane-sv1">SV1</td>
            <td>SV1</td>
            <td>stratum+tcp://pool.hyper-hash.com:3333</td>
          </tr>
          <tr>
            <td class="lane lane-sv1h">SV1 Hyper</td>
            <td>SV1</td>
            <td>stratum+tcp://pool.hyper-hash.com:3334</td>
          </tr>
          <tr>
            <td class="lane lane-sv2">SV2</td>
            <td>SV2</td>
            <td>stratum+tcp://pool.hyper-hash.com:3335</td>
          </tr>
          <tr>
            <td class="lane lane-sv2h">SV2 Hyper</td>
            <td>SV2</td>
            <td>stratum+tcp://pool.hyper-hash.com:3336</td>
          </tr>
        </tbody>
      </table>

      <div class="spacer"></div>

      <!-- Redesigned Miner login row -->
      <div class="login-row">
        <div class="mini-h2">Miner login</div>
        <div class="mono syntax">&lt;address&gt;.workername&nbsp;&nbsp;/&nbsp;&nbsp;x</div>
        <div class="example">(e.g. <span class="mono">bc1q123... .rig-01&nbsp;/&nbsp;x</span>)</div>
      </div>
    </section>

    <section class="card">
      <h2>Miner Stats</h2>

      <!-- Miner search UI -->
      <div class="bar" style="margin-bottom:12px;gap:8px">
        <input id="minerQ" class="mono" placeholder="Search address or address/worker"
               style="flex:1 1 260px;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0b1218;color:var(--ink);outline:none">
        <button id="minerGo"
                style="padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#14202c;color:var(--ink);cursor:pointer">
          Open
        </button>
      </div>

      <table class="tbl">
        <thead>
          <tr><th>Worker</th><th>Hashrate</th><th>Accepted</th><th>Rejected</th><th>Last Share</th></tr>
        </thead>
        <tbody id="miners-table">
          <tr><td class="muted" colspan="5">No data (wire-up pending)</td></tr>
        </tbody>
      </table>
    </section>

    <section class="tiles">
      <a class="tile card" href="#"><h3>Transparency</h3><p>Open fees, open-source components, on-chain payouts.</p></a>
      <a class="tile card" href="#"><h3>API</h3><p>REST + WebSocket endpoints for miners and dashboards.</p></a>
      <a class="tile card" href="#"><h3>Why choose H#</h3><p>SV1 first, SV2 next, clean payouts: 2% pool fee.</p></a>
      <a class="tile card" href="#"><h3>FAQ</h3><p>Connection, payouts, difficulty, and troubleshooting.</p></a>
      <a class="tile card" href="#"><h3>Support</h3><p>Discord + email. Real humans, real responses.</p></a>
      <a class="tile card" href="#"><h3>Status</h3><p>Pool uptime, hashrate, and incident history.</p></a>
    </section>
  </main>

  <footer>
    © 2025 Hyper-Hash • <a href="#">GitHub</a> • <a href="#">Discord</a>
  </footer>

  <!-- Optional: switch quasar to live by defining HH_QUASAR before the script
  <script>
    window.HH_QUASAR = { mode: 'live', feed: 'wss://api.hh-pool.org/quasar' };
  </script>
  -->
  <script src="quasar-race.js"></script>

  <!-- Pool stats wiring -->
  <script>
  async function loadPool(){
    try{
      const res = await fetch('/api/pool.json', { cache: 'no-store' });
      const d = await res.json();

      const fmtRate = (ghs) => {
        if (!ghs && ghs !== 0) return '—';
        if (ghs >= 1e6) return (ghs/1e6).toFixed(2) + ' PH/s';
        if (ghs >= 1e3) return (ghs/1e3).toFixed(2) + ' TH/s';
        return Math.round(ghs).toLocaleString() + ' GH/s';
      };

      document.getElementById('ps-hash').textContent   = fmtRate(d.hashrate_ghs || 0);
      document.getElementById('ps-miners').textContent = (d.miners_online ?? '—');
      document.getElementById('ps-shares').textContent = (d.round_shares || 0).toLocaleString();
      document.getElementById('ps-blocks').textContent = (d.blocks_24h ?? 0);
    } catch (e){
      console.error('pool stats failed', e);
    }
  }
  loadPool();
  setInterval(loadPool, 15000);
  </script>

  <!-- Miner search wiring -->
  <script>
  (function(){
    const q = document.getElementById('minerQ');
    const go = document.getElementById('minerGo');
    if(!q || !go) return;

    function nav(){
      const v = (q.value || '').trim();
      if(!v) return;
      const url = v.includes('/')
        ? `miner.html?id=${encodeURIComponent(v)}`
        : `miner.html?address=${encodeURIComponent(v)}`;
      window.location.href = url;
    }

    go.addEventListener('click', nav);
    q.addEventListener('keydown', e => { if(e.key === 'Enter') nav(); });
  })();
  </script>
</body>
</html>




